const cacheName=self.location.pathname,pages=[];self.addEventListener("install",(function(){self.skipWaiting(),caches.open(cacheName).then((e=>e.addAll(pages)))})),self.addEventListener("fetch",(e=>{function n(e){return c(e)?caches.open(cacheName).then((n=>n.put(a,e.clone()))).then((()=>e)):e}function t(){return caches.open(cacheName).then((e=>e.match(a.url)))}function c(e){return"basic"===e.type&&e.ok&&!e.headers.has("Content-Disposition")}const a=e.request;"GET"===a.method&&e.respondWith(fetch(a).then(n).catch(t))}));